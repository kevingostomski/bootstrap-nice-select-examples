<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bootstrap Nice Select Example in Bootstrap 4</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
    integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="./node_modules/bootstrap-nice-select/dist/css/bootstrap-nice-select.css" />
  <style>
    select {
      width: 300px;
    }
  </style>
</head>

<body class="w-100">
  <h1 class="text-center my-4">Examples - Bootstrap Nice Select</h1>
  <div class="d-flex flex-row justify-content-around my-5">
    <label class="text-center">Test with no OptGroup:</label>
    <select id="exampleSelect1" data-bs-toggle="bootstrap-nice-select" multiple>
      <option value="Banana">Banana</option>
      <option value="Apple">Apple</option>
      <option value="Orange">Orange</option>
      <option value="Lemon" selected="selected">Lemon</option>
      <option value="Pepper">Pepper</option>
      <option value="Mushrooms">Mushrooms</option>
      <option value="Cabbages">Cabbages</option>
      <option value="Celery">Celery</option>
      <option value="Garlic">Garlic</option>
      <option value="Brocoli">Brocoli</option>
    </select>
  </div>
  <div class="d-flex flex-row justify-content-around my-5">
    <label class="text-center">Test with OptGroup:</label>
    <div class="col-3">
      <select id="exampleSelect2" multiple data-token-separators='[",","Enter"]'>
        <optgroup label="Fruit">
          <option value="Banana" selected disabled>Banana</option>
        </optgroup>
      </select>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"
    integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+"
    crossorigin="anonymous"></script>
  <script src="./node_modules/bootstrap-nice-select/dist/js/bootstrap-nice-select-locale-all.js"></script>
  <script>
    let remoteSearchData = {
      items: [
        {
          id: "Banana",
          text: "Banana",
          optGroup: "Fruit",
          disabled: false
        },
        {
          id: "Apple",
          text: "Apple",
          optGroup: "Fruit",
          disabled: false
        },
        {
          id: "Orange",
          text: "Orange",
          optGroup: "Fruit",
          disabled: false
        },
        {
          id: "Pepper",
          text: "Pepper",
          optGroup: "Vegetable",
          disabled: true
        },
        {
          id: "Garlic",
          text: "Garlic",
          optGroup: "Vegetable"
        }
      ]
    }

    function callRemoteData(filter) {
      filter = filter.toUpperCase();
      // put AJAX or Fetch for Remote JSON object here
      let toRet = structuredClone(remoteSearchData);
      toRet.items = toRet.items.filter(data => data.text.toUpperCase().indexOf(filter) > -1);
      return toRet;
    }

    async function checkTag(key) {
      if (key.toLowerCase().includes("ä") || key.toLowerCase().includes("ö") || key.toLowerCase().includes("ü")) {
        return false;
      }
      return true;
    }

    let select = bootstrapNiceSelect.BootstrapNiceSelect("#exampleSelect2", {
      searchData: 'callRemoteData',
      tagsCheck: 'checkTag',
      tags: true
    });

  </script>
</body>

</html>